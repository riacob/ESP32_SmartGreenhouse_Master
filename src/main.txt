/**
 * @file main.cpp
 * @author your name (you@domain.com)
 * @brief 
 * @version 0.1
 * @date 2023-07-09
 * 
 * @copyright Copyright (c) 2023
 * 
 */
#include <Arduino.h>
#include <SPI.h>
#include <TFT_eSPI.h>
#include <xbmparser.h>
#include "debug.h"

TFT_eSPI tft = TFT_eSPI();

#define TFT_GREY 0x5AEB

PROGMEM const unsigned char icon_key[] = {
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x06, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x1E, 0x00, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x78, 0x00, 0x00, 0x00, 0x00, 0x00, 0x70, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x10, 0xE0, 0x00, 
  0x00, 0x00, 0x00, 0x1E, 0xE0, 0x00, 0x00, 0x00, 0x00, 0x1F, 0xE0, 0x00, 
  0x00, 0x00, 0x80, 0x0F, 0xF0, 0x00, 0x00, 0x00, 0x80, 0x03, 0x70, 0x00, 
  0x00, 0x00, 0xC0, 0x01, 0x3E, 0x00, 0x00, 0x00, 0xC0, 0x01, 0x3E, 0x00, 
  0x00, 0x00, 0xC0, 0x01, 0xFE, 0x00, 0x00, 0x00, 0xC0, 0x01, 0xF8, 0x01, 
  0x00, 0x00, 0x80, 0x03, 0xC0, 0x03, 0x00, 0x00, 0x80, 0x07, 0x80, 0x07, 
  0x00, 0x00, 0x00, 0x1F, 0x00, 0x0F, 0x00, 0x00, 0x00, 0xFF, 0x0F, 0x0E, 
  0x00, 0x00, 0x00, 0xFC, 0x1F, 0x0E, 0x00, 0x00, 0x00, 0x00, 0x3E, 0x1C, 
  0x00, 0x00, 0x00, 0x00, 0x78, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x70, 0x1C, 
  0x00, 0x00, 0x00, 0x00, 0xE0, 0x1C, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x1C, 
  0x00, 0x00, 0x00, 0x00, 0xE0, 0x1C, 0x00, 0x00, 0x00, 0x00, 0xE0, 0x1C, 
  0x00, 0x00, 0x00, 0x00, 0x60, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 
  0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 
  0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 
  0xF8, 0xFF, 0xFF, 0xFF, 0xE7, 0x1C, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 
  0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
};

void setup(void)
{
    tft.init();
    tft.setRotation(0);
    debugln("Setup complete");
}

void loop()
{
    tft.fillScreen(TFT_BLACK);
    tft.setTextSize(5);
    tft.setTextColor(TFT_WHITE);
    tft.setCursor(0, 0, 2);
    tft.drawXBitmap(120,120,icon_key,150,150,TFT_PURPLE);
    delay(1000);
}
